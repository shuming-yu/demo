{"version":3,"file":"js/375.0c907adf.js","mappings":"skCA8CA,MAAMA,EAAU,0CACV,EAAEC,IAAMC,EAAAA,EAAAA,MAERC,IADQC,EAAAA,EAAAA,IAAO,UACHC,EAAAA,EAAAA,KAAI,IAGhBC,EAAaC,EAAQ,MAC3B,SAASC,EAAiBC,GACxBA,EAAMC,OAAOC,IAAML,CACrB,CAGA,SAASM,EAAqBC,GAC5B,OAAIA,EAAYC,OAAS,GAChBD,EAAYE,MAAM,EAAG,IAAM,MAE7BF,CACT,CAEA,MAAMG,GAAeX,EAAAA,EAAAA,IAAI,CACzB,CACIY,MAAO,OACPC,MAAO,OAGT,CACED,MAAO,KACPC,MAAO,MAGT,CACED,MAAO,KACPC,MAAO,MAGT,CACED,MAAO,KACPC,MAAO,MAGT,CACED,MAAO,OACPC,MAAO,UAKLC,GAAcd,EAAAA,EAAAA,IAAI,IAExB,SAASe,IACPjB,EAAUe,OAAQ,EAClBG,OAAOC,IAAItB,GACJuB,MAAKC,IAEJrB,EAAUe,OAAQ,EAClBC,EAAYD,MAAQM,EAAIC,KAAKA,IAAI,IAElCC,OAAMC,IACLxB,EAAUe,OAAQ,EAClBU,QAAQC,IAAIF,EAAI,GAE1B,CAGA,MAAMG,GAAkBC,EAAAA,EAAAA,KAAS,IACxBZ,EAAYD,MAAMc,QAAOC,GAAkB,GAAbA,EAAEC,YAInCC,GAAmB9B,EAAAA,EAAAA,IAAI,IAC7B,SAAS+B,EAAe3B,GAEtB,MAAM4B,EAAO5B,EAAMC,OAAO4B,UAExBH,EAAiBjB,MADN,SAATmB,EACuBP,EAAgBZ,MAEhBY,EAAgBZ,MAAMc,QAAOO,GAAQA,EAAKC,WAAaH,GAEpF,C,OAGAI,EAAAA,EAAAA,IAAMX,GAAkBY,IACtBP,EAAiBjB,MAAQwB,CAAQ,KAGnCC,EAAAA,EAAAA,KAAU,KACRvB,IACAe,EAAiBjB,MAAQY,EAAgBZ,KAAK,I,8yBChIhD,MAAM0B,EAAc,EAEpB,O","sources":["webpack://xxx/./src/views/UserCart.vue","webpack://xxx/./src/views/UserCart.vue?698a"],"sourcesContent":["<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <ScrollTop />\r\n  <div class=\"p-5\">\r\n    <TabMenu :model=\"tabMenuItems\" @click=\"handleTabClick\" />\r\n\r\n    <div class=\"row row-cols-1 row-cols-md-3 g-4 p-5\">\r\n      <div class=\"col-3\" v-for=\"item in filteredProducts\" :key=\"item.ID\">\r\n        <div class=\"card border-dark h-100 image-container background-image\">\r\n          <img :src=\"item.ImageURL\" class=\"card-img-top\" :alt=\"item.Name\" @error=\"handleImageError\">\r\n          <div class=\"text-overlay\">\r\n            <div class=\"card-body\">\r\n              <div class=\"card-title d-flex justify-content-between align-items-baseline\">\r\n                <h3><span class=\"badge text-dark bg-light\">{{ item.Name }}</span></h3>\r\n                <h6><span class=\"badge text-white bg-pink\">{{ item.Category }}</span></h6>\r\n              </div>\r\n              <p class=\"card-text\">{{ truncatedDescription(item.Description) }}</p>\r\n              <div class=\"d-flex justify-content-between align-items-baseline\">\r\n                  <!-- <del class=\"h6\">{{ item.origin_price | currency }}元</del>\r\n                  <div class=\"h5\">{{ item.price | currency }}元</div> -->\r\n                  <del class=\"h6\">1000元</del>\r\n                  <div class=\"h5 text-red\"><strong>{{ item.Price | 100 }}元</strong></div>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-footer d-flex justify-content-between\" style=\"background-color: transparent;\">\r\n              <!-- <router-link :to=\"{path: `lesson/${item.id}`}\" class=\"btn btn-outline-primary\">詳細資料</router-link>\r\n              <a href=\"#\" @click.prevent=\"addToCart({ id: item.id })\" class=\"btn btn-primary\">加入購物車</a> -->\r\n\r\n              <button type=\"button\" class=\"btn btn-outline-secondary\">詳細資料</button>\r\n              <!-- <button type=\"button\" class=\"btn btn-info\">加入購物車</button> -->\r\n              <div>\r\n                <button type=\"button\" class=\"btn btn-pink mx-1\"><i class=\"pi pi-heart\"></i></button>\r\n                <button type=\"button\" class=\"btn btn-info\"><i class=\"pi pi-shopping-cart\"></i></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, inject, onMounted, computed, watch } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\n\r\nconst webApi = `${process.env.VUE_APP_WebAPI}/product`;\r\nconst { t } = useI18n();\r\nconst $swal = inject('$swal');\r\nconst isLoading = ref(false);\r\n\r\n// 圖片載入失敗時自動顯示預設圖片\r\nconst defaultImg = require('../img/img404.png');\r\nfunction handleImageError(event){\r\n  event.target.src = defaultImg;\r\n}\r\n\r\n// 檢查傳入的文字是否超過55個字符, 若超過則添加省略號 '...'\r\nfunction truncatedDescription(description) {\r\n  if (description.length > 55) {\r\n    return description.slice(0, 55) + '...';\r\n  }\r\n  return description;\r\n}\r\n\r\nconst tabMenuItems = ref([\r\n{\r\n    label: '全部商品',\r\n    value: 'all'\r\n    // icon: 'pi pi-fw pi-power-off'\r\n  },\r\n  {\r\n    label: '體驗',\r\n    value: '體驗'\r\n    // icon: 'pi pi-fw pi-power-off'\r\n  },\r\n  {\r\n    label: '有氧',\r\n    value: '有氧'\r\n    // icon: 'pi pi-fw pi-power-off'\r\n  },\r\n  {\r\n    label: '瑜珈',\r\n    value: '瑜珈'\r\n    // icon: 'pi pi-fw pi-power-off'\r\n  },\r\n  {\r\n    label: '肌力訓練',\r\n    value: '肌力訓練'\r\n    // icon: 'pi pi-fw pi-power-off'\r\n  }\r\n])\r\n\r\nconst allProducts = ref([]);  // 全部商品資料\r\n// 取得全部商品資料\r\nfunction getProducts(){\r\n  isLoading.value = true;\r\n  $axios.get(webApi)\r\n        .then(res=>{\r\n          // console.log(res);\r\n          isLoading.value = false;\r\n          allProducts.value = res.data.data;\r\n        })\r\n        .catch(err=>{\r\n          isLoading.value = false;\r\n          console.log(err);\r\n        })\r\n}\r\n\r\n// 篩選Enabled: true產品\r\nconst enabledProducts = computed(()=>{\r\n  return allProducts.value.filter(x => x.Enabled == true);\r\n});\r\n\r\n// 篩選後的產品資料\r\nconst filteredProducts = ref([]);\r\nfunction handleTabClick(event){\r\n  // console.log(event);\r\n  const text = event.target.innerText;\r\n  if (text === '全部商品') {\r\n    filteredProducts.value = enabledProducts.value;\r\n  } else {\r\n    filteredProducts.value = enabledProducts.value.filter(item => item.Category === text);\r\n  }\r\n};\r\n\r\n// 監聽 enabledProducts 變化\r\nwatch(enabledProducts, (newValue) => {\r\n  filteredProducts.value = newValue;\r\n});\r\n\r\nonMounted(() => {\r\n  getProducts();\r\n  filteredProducts.value = enabledProducts.value;\r\n})\r\n</script>\r\n\r\n<style>\r\n.image-container {\r\n  width: 100%;\r\n  position: relative;\r\n  display: inline-block;\r\n  overflow: hidden;\r\n}\r\n\r\n.image-container img {\r\n  /* width: 100%;height: 250px; object-fit: cover; */\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.image-container:hover img {\r\n  transform: scale(1.2);\r\n  z-index: 1;\r\n}\r\n\r\n.image-container .text-overlay {\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n/* 移除 TabMenu 選項點選時的 box-shadow */\r\n.p-tabmenu .p-tabmenu-nav .p-tabmenuitem .p-menuitem-link:not(.p-disabled):focus {\r\n  box-shadow: none !important;\r\n}\r\n\r\n/* .background-image{\r\n  background-image: linear-gradient( 103.3deg,  rgba(252,225,208,1) 30%, rgba(255,173,214,1) 55.7%, rgba(162,186,245,1) 81.8% );\r\n  background-image: radial-gradient( circle farthest-corner at 5.3% 17.2%,  rgba(255,208,253,1) 0%, rgba(255,237,216,1) 90% );\r\n} */\r\n</style>","import script from \"./UserCart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UserCart.vue?vue&type=style&index=0&id=81503766&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["webApi","t","useI18n","isLoading","inject","ref","defaultImg","require","handleImageError","event","target","src","truncatedDescription","description","length","slice","tabMenuItems","label","value","allProducts","getProducts","$axios","get","then","res","data","catch","err","console","log","enabledProducts","computed","filter","x","Enabled","filteredProducts","handleTabClick","text","innerText","item","Category","watch","newValue","onMounted","__exports__"],"sourceRoot":""}